<html>
	<head>
        <link rel="stylesheet" type="text/css" href="resources/css/yellowarp.css">
	<style>
        .bottom-image{
            margin-top:0%;
        }
			.box{
				position:relative;
				display:inline-block;
				border-radius: 50% ;
				color:black;
				margin:0.6%;
				text-align:center;
				font-size:16px;
			}
                
			.music{
				margin:0.6%;
				position:relative;
				background: none;
				display:inline-block;
				border-radius: 50% ;
				color:black;
				text-align:center;
			}
         </style>
		<link rel="stylesheet" href="resources/css/bootstrap.min.css">
		<script src="resources/js/jquery.min.js"></script>
		<!-- <script src="resources/js/guitar.js"></script>  -->
<!--		<script src="http://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>-->
		<script type="text/javascript" src="resources/js/jquery.arctext.js"></script>
	</head>
	<script>
        var xStart = 210, ystart = 100;
        var xEnd = 210, yEnd = 950;
        var xCurrent = xStart, yCurrent = ystart;
        var slope = 0;
        var pluckAmplitude = 20;
        var pluckInterval = null;
        var growthinterval = null;
        var ungrowInterval = null;
        var isGrown = false;
        var currentMousePos = { x: -1, y: -1 };
        var c = null;
        var ctx = null;
        
		$(document).bind('mousemove', function(e) {
			  mouse = {'x': e.pageX, 'y': e.pageY};
		});
		
		 $(document).ready(function() {
                           c=document.getElementById("myCanvas");
                           ctx=c.getContext("2d");
                           
                           c.width = window.innerWidth;
                           c.height = window.innerHeight;
                           
                           if (xEnd == xStart) {
                           //Vertical Line
                           
                           } else if (yEnd == ystart) {
                           //Horizontal Line
                           
                           } else {
                           //All other lines
                           slope = (yEnd - ystart)/(xEnd - xStart);
                           }
                           
                           $(document).mousemove(function(event) {
                                                 if (currentMousePos.x == -1 && currentMousePos.y == -1) {
                                                 currentMousePos.x = event.pageX;
                                                 currentMousePos.y = event.pageY;
                                                 }
                                                 
                                                 if (isGrown == true) {
                                                 if (xEnd == xStart) {
                                                 //Vertical Line
                                                 if ((event.pageX >= xStart && currentMousePos.x < xStart) || (event.pageX <= xStart && currentMousePos.x > xStart)) {
                                                 clearInterval(pluckInterval);
                                                 pluckAmplitude = 20;
                                                 pluckInterval = setInterval(pluck, 10);
                                                 }
                                                 } else if (yEnd == ystart) {
                                                 //Horizontal Line
                                                 if ((event.pageY >= ystart && currentMousePos.y < ystart) || (event.pageY <= ystart && currentMousePos.y > ystart)) {
                                                 clearInterval(pluckInterval);
                                                 pluckAmplitude = 20;
                                                 pluckInterval = setInterval(pluck, 10);
                                                 }
                                                 } else {
                                                 //All other lines
                                                 if (line_intersects(xStart, ystart, xEnd, yEnd, event.pageX, event.pageY, currentMousePos.x, currentMousePos.y) == true) {
                                                 clearInterval(pluckInterval);
                                                 pluckAmplitude = 20;
                                                 pluckInterval = setInterval(pluck, 10);
                                                 }
                                                 }
                                                 currentMousePos.x = event.pageX;
                                                 currentMousePos.y = event.pageY;
                                                 }
                                                 });
                           
			mouse = {'x': 0, 'y': 0};
			 homex = 0;
			 homey = 0;
			 forcex = 0;
			 forcey = 0;
			 magnet = 500;
			 
			 $('.box').each(function(index, el){
					$(el).data( "homex", parseInt($(el).position().left));
					$(el).data( "homey", parseInt($(el).position().top));
				});
			$('.music').each(function(index, el){
					$(el).data( "homex", parseInt($(el).position().left));
					$(el).data( "homey", parseInt($(el).position().top));
				});
			 $('.box').css('position','absolute');
			 $('.music').css('position','absolute');
			 
			 setInterval(function () {
				 $('.box').each(function(index, el){
						el = $(el);
						position = el.position();
						x0 = el.offset().left;
						y0 = el.offset().top;
						x1 = mouse.x;
						y1 = mouse.y;
						distancex = x1-x0;
						distancey = y1-y0;
						
						distance = Math.sqrt((distancex * distancex) + (distancey * distancey));
						powerx = x0 - (distancex / distance) * magnet / distance;
						powery = y0 - (distancey / distance) * magnet / distance;
						
						forcex = (forcex + (el.data('homex') - x0) / 2) / 2.1;
						forcey = (forcey + (el.data('homey') - y0) / 2) / 2.1;
						
						el.css('left', powerx + forcex-250);
						el.css('top',  powery + forcey);
						});
				 }, 15);
				 
				 setInterval(function () {
				 $('.music').each(function(index, el){
						el = $(el);
						position = el.position();
						x0 = el.offset().left;
						y0 = el.offset().top;
						x1 = mouse.x;
						y1 = mouse.y;
						distancex = x1-x0;
						distancey = y1-y0;
						
						distance = Math.sqrt((distancex * distancex) + (distancey * distancey));
						
						powerx = x0 - (distancex / distance) * magnet / distance;
						powery = y0 - (distancey / distance) * magnet / distance;
						
						forcex = (forcex + (el.data('homex') - x0) / 2) / 2.1;
						forcey = (forcey + (el.data('homey') - y0) / 2) / 2.1;
						
						
						el.css('left', powerx + forcex-250);
						el.css('top',  powery + forcey);
						});
				 }, 15);
			 
			$('#serviceImg').hide();			
			$('#photo').arctext({radius:100});
			$('#about').arctext({radius:80});
			$('#music').arctext({radius:80});
			$('#contact').arctext({radius:80});
			$('#home').arctext({radius:80});
			$('#services').arctext({radius:80});
			$('#filmCrew').arctext({radius:100});
			$('#information').hide();
			$('#logo').hide();			
			$('#vline').hide();
		   $('#services').css('color','#FF9900');
		   $('#move').css('margin-top','16.5%');
		   //$('#myCanvas').hide();
		   $('#move').animate({left: '-=33.5em', top: '-=13.5em'}, 1500,function() {
                              $("#logo").css({top: 50, left: 50, position:'absolute'});

                              

				$('#information').fadeIn(1000);
				$('#move').hide();
				$('#logo').show();
				$('#logo').css('z-index',999);
				$('#serviceImg').css('position','absolute');
				$('#serviceImg').css('left','14%');
				$('#serviceImg').show();			
				$('.verticalLine').css({top: $('#logo').height()+50});
				$('#myCanvas').css('position','absolute');
				$('#myCanvas').css('z-index','-999');
                              $('#myCanvas').css('width','100%');
                              $('#myCanvas').css('height','100%');
                              
                              xStart = 70 + $("#logo").offset().left + $('.left').width()/2;
                              ystart = $("#logo").offset().top + $('.left').height()/2;
                              growthinterval = setInterval(grow, 10);
					$('#serviceImg').animate({'top': $("#logo").offset().top + $("#logo").height()+150},
						{
							duration:1000,
							step: function(now){	
								//$('#myCanvas').slideDown(1000);
							},
							complete: function() {
                                             xEnd = xCurrent;
                                             yEnd = yCurrent;
                                             isGrown = true;
                                             clearInterval(growthinterval);
								}
						}
					);
		   });
		   
		   $('a').click(function(e) {
				e.preventDefault();
				 var href = $(this).attr('href');
				 if(href != 'services.html') {
					$('#information').fadeOut(1500,function(o){
                                              xCurrent = xEnd;
                                              yCurrent = yEnd;
                                              growthinterval = setInterval(grow, 10);
						$('#serviceImg').animate({'top': $("#logo").offset().top + $("#logo").height()-229},
						{
								duration:1000,
								complete: function(now){
                                                 $('#serviceImg').hide();
                                                 $('#logo').hide();
                                                 $('#move').show();
                                                 $('#move').animate({left: '+=33.5em', top: '+=13.2em'}, 1000,function() {
                                                                    $('#move').hide();
                                                                    $("#logo").css({top: 206, left: '36em', position:'absolute'});
                                                                    $('#logo').show();
                                                                    window.location.href = href;
                                                                    });
									
								}
							}
						);
					});
				}
		   });
		});
        
        function line_intersects(p0_x, p0_y, p1_x, p1_y, p2_x, p2_y, p3_x, p3_y) {
            
            var s1_x, s1_y, s2_x, s2_y;
            s1_x = p1_x - p0_x;
            s1_y = p1_y - p0_y;
            s2_x = p3_x - p2_x;
            s2_y = p3_y - p2_y;
            
            var s, t;
            s = (-s1_y * (p0_x - p2_x) + s1_x * (p0_y - p2_y)) / (-s2_x * s1_y + s1_x * s2_y);
            t = ( s2_x * (p0_y - p2_y) - s2_y * (p0_x - p2_x)) / (-s2_x * s1_y + s1_x * s2_y);
            
            if (s >= 0 && s <= 1 && t >= 0 && t <= 1)
            {
                // Collision detected
                return true;
            }
            
            return false; // No collision
        }
    
    function pluck() {
        c.width = c.width;
        ctx.beginPath();
        ctx.moveTo(xStart, ystart);
        
        if (xEnd == xStart) {
            //Vertical Line
            ctx.bezierCurveTo(xStart, ystart, xStart + pluckAmplitude, (ystart + yEnd)/2, xEnd, yEnd);
        } else if (yEnd == ystart) {
            //Horizontal Line
            ctx.bezierCurveTo(xStart, ystart, (xStart + xEnd)/2, ystart + pluckAmplitude, xEnd, yEnd);
        } else {
            //All other lines
            ctx.bezierCurveTo(xStart, ystart, xStart + (xEnd - xStart)/2, ystart + (yEnd - ystart)/2 + pluckAmplitude, xEnd, yEnd);
        }
        
        console.log(pluckAmplitude);
        if (pluckAmplitude > 0) {
            pluckAmplitude -= 0.5;
        } else if (pluckAmplitude < 0) {
            pluckAmplitude += 0.5;
        } else {
            clearInterval(pluckInterval);
            pluckAmplitude = 20;
        }
        pluckAmplitude = pluckAmplitude*-1;
        
        ctx.strokeStyle = '#000000';
        ctx.stroke();
    }
    
    function ungrow() {
        c.width = c.width;
        ctx.beginPath();
        ctx.moveTo(xStart, ystart);
        
        console.log("Ungrow coordinates: " + xCurrent + yCurrent);
        if (xEnd == xStart) {
            //Vertical Line
            if (yEnd > ystart) {
                yCurrent = yCurrent - 5;
            } else if (yEnd < ystart) {
                yCurrent = yCurrent + 5;
            }
            ctx.lineTo(xCurrent, yCurrent);
        } else if (yEnd == ystart) {
            //Horizontal Line
            
            ctx.lineTo(xCurrent, yCurrent);
        } else {
            //All other lines
            
            xCurrent = xCurrent - 5;
            yCurrent = yEnd - (xEnd - xCurrent)*slope;
            ctx.lineTo(xCurrent, yCurrent);
        }
        
        //TODO: Needs cleanup.
        if (yEnd < ystart) {
            if (yCurrent >= ystart) {
                clearInterval(ungrowInterval);
            }
        } else if (yEnd > ystart) {
            if (yCurrent <= ystart) {
                clearInterval(ungrowInterval);
            }
        } else if (xEnd < xStart) {
            if (xCurrent >= xStart) {
                clearInterval(ungrowInterval);
            }
        } else if (xEnd > xStart) {
            if (xCurrent <= xStart) {
                clearInterval(ungrowInterval);
            }
        }
        
        ctx.strokeStyle = '#000000';
        ctx.stroke();
    }
    
    function grow(){
        c.width = c.width;
        ctx.beginPath();
        ctx.moveTo(xStart, ystart);
        
        console.log(xCurrent, yCurrent);
        /*if (xEnd == xStart) {
            //Vertical Line
            if (yCurrent < yEnd) {
                yCurrent = yCurrent + 5;
            } else {
                yCurrent = yCurrent - 5;
            }
            xCurrent = xStart;
            ctx.lineTo(xCurrent, yCurrent);
        } else if (yEnd == ystart) {
            //Horizontal Line
            if (xCurrent < xEnd) {
                xCurrent = xCurrent + 5;
            } else {
                xCurrent = xCurrent - 5;
            }
            yCurrent = ystart;
            ctx.lineTo(xCurrent, yCurrent);
        } else {
            //All other lines
            if (xStart < xEnd) {
                xCurrent = xCurrent + 5;
                yCurrent = ystart + (xCurrent - xStart)*slope;
            } else if (xStart > xEnd) {
                xCurrent = xCurrent - 5;
                yCurrent = ystart + (xCurrent - xStart)*slope;
            }
            ctx.lineTo(xCurrent, yCurrent);
        }
        
        //TODO: Needs cleanup.
        if (yEnd < ystart) {
            if (yCurrent <= yEnd) {
                isGrown = true;
                clearInterval(growthinterval);
            }
        } else if (yEnd > ystart) {
            if (yCurrent >= yEnd) {
                isGrown = true;
                clearInterval(growthinterval);
            }
        } else if (xEnd < xStart) {
            if (xCurrent <= xEnd) {
                isGrown = true;
                clearInterval(growthinterval);
            }
        } else if (xEnd > xStart) {
            if (xCurrent >= xEnd) {
                isGrown = true;
                clearInterval(growthinterval);
            }
        }*/
        
        xCurrent = xStart;
        yCurrent = $("#serviceImg").offset().top + $("#serviceImg").height()/2;
        ctx.lineTo(xCurrent, yCurrent);

        ctx.strokeStyle = '#000000';
        ctx.stroke();
    }
	</script>
	<body>
	<div id="move" style="margin-top:12%;position:absolute;width:100%;text-align:center;"><img  src="resources/images/logoweb.png" width="14%"/></div>
		<div class="row"><canvas id="myCanvas"></canvas>
		<div class="left-container" id="logo" style="width:100%;">
			<img class="left" src="resources/images/logoweb.png" width="14%" style="font-family:Century Gothic;margin-top:0%;"/>
			<a href='films.html' class='deg135' style="min-width:7%;"><span id="films">Films</span></a>
			<a href='thefilmcrew.html' class='deg45' style="min-width:7%;"><span id="filmCrew">The Film Crew</span></a>
			<a href='services.html' class='deg0' style="min-width:9%;"><span id="services">Services</span></a>
			<a href='photography.html' class='deg150' style="min-width:9%;"><span id="photo">Photography</span></a>
			<a href='music.html' class='deg225' style="min-width:7.1%;"><span id="music">Music</span></a>
			<a href='contactus.html' class='deg315' style="min-width:7.5%;"><span id="contact">Contact</span></a>
			<a href='index.html' class='deg325' style="min-width:12%;"><span id="home">Home</span></a>
			<a href='About.html' class='deg335' style="min-width:9%;"><span id="about">About Us</span></a>
		</div>
		<!--<div class="verticalLine" id="vline" draggable="true">&nbsp;</div>-->
		<div class="col-md-4 services-image">
			<img class="left bottom-image" id = "serviceImg" src="resources/images/Servicesphoto.png" width="40%"/>
		</div>
			<div class="col-md-8" id="information" style="font-family:Century Gothic;padding-top:9%;line-height:150%;letter-spacing:2px">
				<p style="font-family:Century Gothic;">
					<div class="music">Y</div>
					<div class="box" style="margin-left:0%;">ello</div>
					<div class="music" style="margin-left:0%;">W</div>
					<div class="box" style="margin-left:0%;">arp </div>
					<div class="music">P</div>
					<div class="box">roductions </div>
					<div class="box">is </div>
					<div class="box">a </div>
					<div class="music"> FULL</div>
					<div class="box">service </div>
					<div class="music">production</div> 
					<div class="box">house,</div><br>
					<div class="box">that </div>
					<div class="box">caters to </div>
					<div class="box">all </div>
					<div class="music">media</div> 
					<div class="box">content </div>
					<div class="music">generation</div>
					<div class="box">requirements.</div><br>
					<div class="box">We cover </div>
					<div class="box">a </div> 
					<div class="music">broad</div>
					<div class="music">range </div>
					<div class="box">of </div>
					<div class="box">service </div>
					<div class="box">including : </div>
					<div class="box">Commercial </div>
					<div class="music">films,</div><br>
					<div class="music">Digital</div> 
					<div class="box">films, </div>
					<div class="box">Corporate </div>
					<div class="box">films,</div>
					<div class="music"> Animated</div> 
					<div class="box">films, </div>
					<div class="box">Personal </div>
					<div class="box">films, </div>
					<div class="box">A/V's,</div><br>
					<div class="box">Music </div>
					<div class="music">Composition</div>
					<div class="box">& </div>
					<div class="box">Production,</div>
					<div class="music"> Photography,</div><br>
					<div class="box">Billboard & </div>
					<div class="music">Poster</div> 
					<div class="box">Design,</div>
					<div class="music"> Digital </div>
					<div class="music">art,</div><br>
					<div class="music">Website </div>
					<div class="music">Design</div> 
					<div class="box">and </div>
					<div class="box">App </div>
					<div class="box">Development.</div>
				</p>
				<br><br>
				<p style="font-family:Century Gothic;font-size:16px;">
					<div class="music">Flexible</div> 
					<div class="box">enough, </div>
					<div class="box">we </div>
					<div class="box">provide </div>
					<div class="music">Value</div> 
					<div class="box">for </div>
					<div class="box">money </div>
					<div class="box">package </div>
					<div class="box">deals </div>
					<div class="music">& </div><br> 
					<div class="box">also </div>
					<div class="box">give </div>
					<div class="box">our </div>
					<div class="box">clients </div>
					<div class="box">the </div>
					<div class="box">option </div>
					<div class="box">hire </div>
					<div class="box">our </div>
					<div class="music">individual</div>
					<div class="music">talents</div> 
					<div class="box">on </div>
					<div class="box">a</div><br> 
					<div class="music">freelance</div> 
					<div class="box">basis.</div> 
					<div class="box">These </div>
					<div class="box">may </div>
					<div class="box">include </div>
					<div class="box">:Executive </div>
					<div class="box">production,</div>
					<div class="music"> Direction,</div><br>
					<div class="music">Cinematography,</div> 
					<div class="box">Editing,</div>
					<div class="box">vfx </div>
					<div class="box">& </div>
					<div class="box">packaging,</div>
					<div class="music"> Animation,</div><br>
					<div class="music">Music</div>
					<div class="box">Composition </div>
					<div class="box">& </div> 
					<div class="box">Production,</div>
					<div class="music"> Sound</div> 
					<div class="box">Design </div>
					<div class="box">& </div>
					<div class="box">audio </div>
					<div class="music">post,</div><br>
					<div class="box">still </div>
					<div class="music">Photography</div> 
					<div class="box">and </div>
					<div class="box">digital </div>
					<div class="music">art.</div>
				</p>
			</div>
		</div>
	</body>
</html>